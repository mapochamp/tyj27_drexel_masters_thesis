% Chapter Template

\chapter{SPM Pinning Model} % Main chapter title

\label{Chapter4} % Change X to a consecutive number; for referencing this chapter elsewhere, use \ref{ChapterX}

%----------------------------------------------------------------------------------------
%	SECTION 1
%----------------------------------------------------------------------------------------

\section{Model Formulation}


%-----------------------------------
%	SUBSECTION 1
%-----------------------------------
\subsection{Constraints}
Let $N \coloneqq \{ n \text{ }  | \text{ } n   \text{ represents a tensor ID used in the DNN graph}\}$\\
Let $K \coloneqq \{ k \text{ }  | \text{ } k   \text{ represents a scratchpad ID}\}$\\
Let $M \coloneqq \{ m \text{ }  | \text{ } m   \text{ represents an operation in the DNN graph}\}$\\
Let $S \coloneqq \{ s \text{ }| \text{ } \text{where } S_n \text{ represents the size of tensor$_n \in N$}\}$\\
Let $Q \coloneqq \{ q \text{ }| \text{ } \text{where } Q_k \text{ represents the size of Scratchpad$_k \in K$}\}$\\

$x_{nkm} = 1$ represents a tensor $n$ that occupies scratchpad $k$ at operation $m$.\\

\[
x_{nkm} \in \{0, 1\} \forall n,k,m
\]


All necessary input and output tensors for a given operation will be present on the SPMs\\

Let $A \coloneqq \{ a \text{ } | \text{ } \text{where } A_n = 1\text{ represents a tensor$_n$ is required as an input or output for operation$_m$} \}$\\
\[
A_{nm} \in \{0, 1\} \forall n,m
\]

\[
A_{nm} = 1 \implies \sum_{i \in K} x_{nim} = 1 
\]

All tensors mapped on an SPM$_k$ must fit on within the given scratchpad space\\

$\sum_{i \in N} {x_{ikm} * S_i} \leq Q_k \forall m,k$\\

SPM sizes are fixed\\

Let scratchpad capacity $c \in \mathbb{N}$\\
$q = \text{ }c \text{ }\forall q \in Q$\\

Tensors are not mapped before the operation in which they're lifetime begins \\

Let $B \coloneqq \{ b_n \text{ } | \text{ }  b_n \text{represents the start time for tensor $n$}\}$ \\

$x_{nmk} = 0 \forall m < A_m$

Tensors are not mapped after the operation in which they're lifetime ends \\

Let $E \coloneqq \{ e_n \text{ } | \text{ }  e_n \text{represents time for tensor $n$}\}$ \\

$x_{nmk} = 0 \forall m > B_m$

%-----------------------------------
%	SUBSECTION 2
%-----------------------------------

\subsection{Objective Function}

%----------------------------------------------------------------------------------------
%	SECTION 2
%----------------------------------------------------------------------------------------

\section{Main Section 2}

